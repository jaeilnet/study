## 두개의 모자?

저자는 개발목적을 `기능추가와 리팩터링`으로 명확하게 구분하여 작업을 한다.

이 두가지 작업을 두개의 모자라고 비유를 했는데,

기능추가를 할 때에는 기존 코드는 절대로 건드리지 않고 새 기능을 추가하기만 한다.

진척도는 테스트를 추가해서 통과하는지 확인하는 방식으로 측정한다.

반면 리팩터링할 때는 기능추가를 절대 하지 않기로 다짐하고 코드 재구성에만 전념한다. 부득이한 경우 이외에는 테스트도 새로 만들지 않는다.

이 두가지 작업 방식을 혼용하여 작업하더라도 그 에따른 차이를 분명하게 인식해야한다.

---

## 리팩터링 이유

### 1. 설계가 좋아진다.

리팩터링을 하지 않으면 내부 설계(아키텍처)가 썩기 쉽다. 아키텍처를 충분히 이해하지 못한 채 단기 목표만을 위해 코드를 수정하다 보면 기반 구조가 무너지기 쉽다.

설계를 파악하기 어려워지고 그럴 수록 설계를 유지하기도 어려워지며 설계가 부패하는 속도는 더욱 빨라진다.

리팩터링을 함으로써 코드의 구조를 지탱해 줄 것이다.

설계가 나쁘면 같은 일을 하더라도 코드가 길어지기 쉽다.

중복코드가 여러 곳에서 나타날 수 있다.

> `중복코드를 제거해서 코드량을 줄인다고 시스템이 빨라지는 것은 아니다.` <br/><br/>`프로그램의 용량이 속도에 영향을 주는 경우는 별로 없다.`

중복코드를 제거하지 않으면 코드 수정에 사용해야하는 노력과 시간, 그리고 이해해야 할 코드량이 늘어난다는 큰 단점이 있다.

---

### 2. 소프트웨어를 이해하기 쉬워진다.

내가 작성한 코드가 몇달 뒤 내가 아닌 다른 사람이 보기에도 이해가 빨라야한다.

이해에 따라서 수정이 쉬울수도 어려울수도 있다.

---

### 3. 버그를 쉽게 찾을 수 있다.

코드를 이해하기 쉽다는 말는 것은 버그를 찾기 쉽고, 수정과정에서 버그를 찾을 수 있다는 말 같다..
