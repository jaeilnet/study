## **2-3 리팩터링 이유**

### 1. 설계가 좋아진다.

리팩터링을 하지 않으면 내부 설계(아키텍처)가 썩기 쉽다. 아키텍처를 충분히 이해하지 못한 채 단기 목표만을 위해 코드를 수정하다 보면 기반 구조가 무너지기 쉽다.

설계를 파악하기 어려워지고 그럴 수록 설계를 유지하기도 어려워지며 설계가 부패하는 속도는 더욱 빨라진다.

리팩터링을 함으로써 코드의 구조를 지탱해 줄 것이다.

설계가 나쁘면 같은 일을 하더라도 코드가 길어지기 쉽다.

중복코드가 여러 곳에서 나타날 수 있다.

> 중복코드를 제거해서 코드량을 줄인다고 시스템이 빨라지는 것은 아니다. 프로그램의 용량이 속도에 영향을 주는 경우는 별로 없다.

## 중복코드를 제거하지 않으면 코드 수정에 사용해야하는 노력과 시간, 그리고 이해해야 할 코드량이 늘어난다는 큰 단점이 있다.

### 2. 소프트웨어를 이해하기 쉬워진다.

내가 작성한 코드가 몇달 뒤 내가 아닌 다른 사람이 보기에도 이해가 빨라야한다.
다른 사람이 내 코드를 제대로 이해했다면 한 시간에 끝낼 수정을 일주일이나 걸리지 않는다.

문제는 프로그램을 동작시키는 데만 신경을 쓰다보면 나중에 그 코드를 다룰 개발자를 배려하지 못한다는데 있다. 코드를 이해하기 쉽게 만들려면 일하는 리듬을 변화를 줘야한다.

리팩터링은 코드가 더 잘 읽히게 도와준다.

잘 작동하지만 이상적인 구조는 아닌 코드가 있다면, 잠깐 시간을 내서 내 코드의 목적과 의도를 더 명확하게 전달하도록 개선 해보자. (리팩터링)

단지 다른 사람을 배려하기 위해서가 아니고 그 사람이 바로 나 자신일 때도 많다.
내 자신도 의도적으로 기억하려 하지 않고 내 기억을 용량도 많지않다.

그래서 기억할 필요가 있는 것을 최대한 코드에 담으려고 한다. 그러면 모띠드?맥주가 뇌세포를 파괴하더라도 걱정할 필요가 없다.?

---

### 3. 버그를 쉽게 찾을 수 있다.

코드를 이해하기 쉽다는 말은 버그를 찾기 쉽다는 말이기도 하다.
리팩터링을 하면 코드가 하는 일을 깊이 파악하게 되면서 새로 깨달은 것을 곧바로 코드에 반영하게 된다.

프로그램의 구조를 명확하게 다듬으면 그냥 "이럴 것이다." 라고 가정하던 점들이 분명하게 드러나는데, 버그를 지나치려야 지나칠 수 없을 정도로 명확해진다.

켄트 벡이라는 분이 하신 말씀이라고 한다.

---

> `난 뛰어난 프로그래머가 아니에요, 단지 뛰어난 습관을 지닌 괜찮은 프로그래머일 뿐이에요`

### 4. 리팩터링하면 프로그래밍 속도를 높일 수 있다.

리팩터링을 하면 내부설계와 가독성이 개선되고 버그가 줄어든다는 점은 모두 품질 향상에 직결된다.

하지만 리팩터링하는 데 시간이 드니 전체 개발 속도는 떨어질까봐 걱정할수 있다.

초기에는 진척이 빨랐지만 현재는 새 기능을 하나 추가하는데 훨씬 오래 걸린다는 말을 많이 한다.
새로운 기능을 추가할수록 기존 코드베이스에 잘 녹여낼 방법을 찾는 데 드는 시간이 늘어난다는 것이다.

게다가 기능을 추가하고 나면 버그가 발생하는 일이 잦고, 이를 해결하는 시간은 한층 더 걸린다.

이를 해결하는 시간은 한층 더 걸리게 되고,

`차라리 처음부터 새로 개발하는 편이 낫겠다고 생각하는 지경에 이른다.`
